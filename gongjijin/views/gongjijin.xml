<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
      <!-- 三金列表 -->
        <record model="ir.ui.view" id="sanjin_tree_view">
            <field name="name">djsanjin.tree</field>
            <field name="model">yjjr.djsanjin</field>
            <field name="arch" type="xml">
                <tree string="san jin tree">
                   
                            <field name="name"/>
                            <field name="company_id"/>
                            <field name="date_begin"/>
                            <field name="date_cx"/>
                            <field name="date_end"/>
                            <field name="customer"/>
                            <field name="shebao"/>
                            <field name="gongjijin"/>
                            <field name="geshui"/>
                            <field name="fuwufei"/>
                            <field name="geshui"/>
                            <field name="memo"/>

                </tree>
            </field>
        </record>
      

      <!-- 三金表单 -->
        <record model="ir.ui.view" id="sanjin_form_view">
            <field name="name">djsanjin.form</field>
            <field name="model">yjjr.djsanjin</field>
            <field name="arch" type="xml">
                <form string="san jin form">
                    <sheet>
                        <group>
                            <group string="基础">
                                <field name="name"/>
                                <field name="company_id"/>
                                <field name="date_begin"/>
                                <field name="date_cx"/>
                                <field name="date_end"/>
                            </group>
                            <group string="金额">
                                <field name="shebao"/>
                                <field name="gongjijin"/>
                                <field name="geshui"/>
                                <field name="fuwufei"/>                            
                                <field name="month_total"/>
                                <field name="all_total"/>  
                            </group>
                        </group>
                        <field name="memo"/>
                        
                        <field name="djsanjin_mx_ids">
                            <tree string="缴费明细">
                                <field name="djsanjin_id"/>
                                <field name="gongzi"/>
                            </tree>
                        </field>
                        
                    </sheet>
                </form>
            </field>
        </record>


        <!-- window action -->
        <!--
            The following tag is an action definition for a "window action",
            that is an action opening a view or a set of views
        -->
        <record model="ir.actions.act_window" id="sanjin_list_action">
            <field name="name">三金</field>
            <field name="res_model">yjjr.djsanjin</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  建立第一个代缴三金用户
                </p>
            </field>
        </record>

        <!-- top level menu: no parent -->
        <menuitem id="main_dj_menu" name="代缴"/>
        <!-- A first level in the left side menu is needed
             before using action= attribute -->
        <menuitem id="dj_menu" name="代缴"
                  parent="main_dj_menu"/>
        <!-- the following menuitem should appear *after*
             its parent openacademy_menu and *after* its
             action course_list_action -->
        <menuitem id="sanjin_menu" name="三金" parent="dj_menu"
                  action="sanjin_list_action"/>
        <!-- Full id location:
             action="openacademy.course_list_action"
             It is not required when it is the same module -->

        <!-- company form -->
        <record model="ir.ui.view" id="company_form_view">
            <field name="name">company.form</field>
            <field name="model">yjjr.company</field>
            <field name="arch" type="xml">
                <form string="company form">
                    <sheet>
                      <field name="name"/>
                        <notebook>
                          <page>                            
                            <field name="djsanjin_ids">
                              <tree>
                                <field name="name"/>     
                                <field name="memo"/>
                            </tree>
                          </field>
                        </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- company -->
        <record model="ir.actions.act_window" id="company_list_action">
            <field name="name">公司</field>
            <field name="res_model">yjjr.company</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  建立第一个公司
                </p>
            </field>
        </record>
        <menuitem id="company_menu" name="公司" parent="dj_menu"
                  action="company_list_action"/>
        <!-- Full id location:
             action="openacademy.course_list_action"
             It is not required when it is the same module --> 


        <!-- sanjin ming xi form -->
        <record model="ir.ui.view" id="sanjin_mx_form_view">
            <field name="name">djsanjin.mx.form</field>
            <field name="model">yjjr.djsanjin.mx</field>
            <field name="arch" type="xml">
                <form string="djsanjin.mx form">
                    <sheet>
                        <group>
                            
                            <field name="gongzi"/>
                            <field name="djsanjin_id"/>
                            
                        </group>
                        <group>
                            <field name="shebao"/>
                            <field name="gongjijin"/>
                            <field name="geshui"/>
                            <field name="fuwufei"/>
                            <field name="dj_month"/>
                        </group>
                        <group>
                            <field name="fukuanfs_id"/>
                            <field name="fukuan_date"/>
                        </group>
                        <group>
                            <field name="memo"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sanjin_mx_tree_view">
            <field name="name">djsanjin.mx.tree</field>
            <field name="model">yjjr.djsanjin.mx</field>
            <field name="arch" type="xml">
                <tree string="djsanjin.mx tree">
                    
                           
                            <field name="gongzi"/>
                            <field name="djsanjin_id"/>
                            <field name="gongzi"/>
                        
                            <field name="shebao"/>
                            <field name="gongjijin"/>
                            <field name="geshui"/>
                            <field name="fuwufei"/>
                            <field name="dj_month"/>
                        
                            <field name="fukuanfs_id"/>
                            <field name="fukuan_date"/>
                       
                            <field name="memo"/>
             
                </tree>
            </field>
        </record>
        <!-- company -->
        <record model="ir.actions.act_window" id="djsanjin_mx_list_action">
            <field name="name">djsanjin.mx</field>
            <field name="res_model">yjjr.djsanjin.mx</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  建立第一个代缴明细
                </p>
            </field>
        </record>
        <menuitem id="sanjin_mx_menu" name="三金明细" parent="dj_menu"
                  action="djsanjin_mx_list_action"/>
        <!-- Full id location:
             action="openacademy.course_list_action"
             It is not required when it is the same module --> 






        <record id="my_id_form" model="ir.ui.view">
            <field name="name">my_name_form</field>
            <field name="model">my_model_one</field>
            <field name="arch" type="xml">
                <form string="Name">
                    <sheet>
                        <group>
                            <field name="partner_id"/>
                            <field name="money"/>
                            <field name="my_model_two_ids" />
                             <!-- name_of_parameter: name_of_field -->
                            <button string="Open popup"
                                name="%(gongjijin.action_open_popup)d"
                                type="action"
                                class="btn-link"   
                                context="{'partner_id': partner_id,'money': money,'my_model_one_id': my_model_one_id}"/>                         
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

<record id="model_two_form_popup" model="ir.ui.view">
    <field name="name">Popup name</field>
    <field name="model">my_model_two</field>
    <field name="arch" type="xml">
        <form string="Popup text">
            <sheet>
                <group>
                    <field name="my_model_one_id" />
                    <field name="partner_id" />
                    <field name="money" />
                    <field name="all_total" />
                </group>

                <footer>
                        <button name="save_model_two" type="object"
                                string="Subscribe" class="oe_highlight"/>
                        or
                        <button special="cancel" string="Cancel"/>
                    </footer>
            </sheet>
        </form>
    </field>
</record>

        <record id="action_open_popup" model="ir.actions.act_window">
    <field name="name">action name</field>
    <field name="res_model">my_model_two</field>
    <field name="view_id" ref="model_two_form_popup"/>
    <!-- set default value to field from context parameter by name -->
    <field name="context">{'default_partner_id': context.get('partner_id', False),'default_money': context.get('money', False),'default_my_model_one_id': context.get('my_model_one_id', False),}</field>
    <field name="target">new</field>
</record>

<record model="ir.actions.act_window" id="test_my_list_action">
            <field name="name">my_model_one</field>
            <field name="res_model">my_model_one</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  my_model_one
                </p>
            </field>
        </record>

<menuitem id="my_model_one_menu" name="my_model_one" parent="dj_menu"
                  action="test_my_list_action"/>

<record id="model_two_base_form_popup" model="ir.ui.view">
    <field name="name">Popup name</field>
    <field name="model">my_model_two</field>
    <field name="arch" type="xml">
        <form string="Popup text">
            <sheet>
                <group>
                    <field name="partner_id" />
                    <field name="money" />
                    <field name="all_total" />
                </group>
            </sheet>
        </form>
    </field>
</record>

<record id="model_two_base_tree_popup" model="ir.ui.view">
    <field name="name">Popup name</field>
    <field name="model">my_model_two</field>
    <field name="arch" type="xml">
        <tree string="Popup text">
            
                    <field name="partner_id" />
                    <field name="money" />
                    <field name="all_total" />     
        </tree>
    </field>
</record>

<record model="ir.actions.act_window" id="my_model_two_list_action">
            <field name="name">my_model_two</field>
            <field name="res_model">my_model_two</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  my_model_two
                </p>
            </field>
        </record>

<menuitem id="my_model_two_menu" name="my_model_two" parent="dj_menu"
                  action="my_model_two_list_action"/>








    </data>
</openerp>
